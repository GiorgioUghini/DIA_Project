After studing the budget allocation and the pricing scenario separately, we imagined the union of the two, used in a real application of the selling of our scarf.
Indeed, we designed an optimization algorithm combining the allocation of budget and the pricing when \emph{the seller a priori knows that every subcampaign is associated with a different context} and charges a different price for every context.

The algorithm consists in a Combinatorial-MAB where the combinatorial part is very similar to the knapsack problem, where the value per click used in this problem depends on the pricing, that depends on the number of users of a specific class interested in buying the product.

The pricing and the advertising problem can, in this case, be decomposed since each subcampaign targets a single class of users. In this way, the computation of the value per click of a campaign depends only on the basis of the number of clicks generated by that specific subcampaign. 